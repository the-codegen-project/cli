{
  "asyncapi": "3.0.0",
  "info": {
    "title": "Runtime testing example",
    "version": "1.0.0"
  },
  "channels": {
    "ping": {
      "address": "/ping",
      "messages": {
        "ping": {
          "$ref": "#/components/messages/ping"
        },
        "pong": {
          "$ref": "#/components/messages/pong"
        },
        "notFound": {
          "$ref": "#/components/messages/notFound"
        }
      }
    },
    "userItems": {
      "address": "/users/{userId}/items/{itemId}",
      "parameters": {
        "userId": {
          "description": "The unique identifier of the user"
        },
        "itemId": {
          "description": "The unique identifier of the item"
        }
      },
      "messages": {
        "itemRequest": {
          "$ref": "#/components/messages/itemRequest"
        },
        "itemResponse": {
          "$ref": "#/components/messages/itemResponse"
        },
        "notFound": {
          "$ref": "#/components/messages/notFound"
        }
      }
    }
  },
  "operations": {
    "pingPostRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [
        {"$ref": "#/channels/ping/messages/ping"}
      ],
      "bindings": {
        "http": {
          "method": "POST"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "regularRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [
        {"$ref": "#/channels/ping/messages/ping"}
      ],
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["nats_request"]
      }
    },
    "regularReply": {
      "action": "receive",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [
        {"$ref": "#/channels/ping/messages/ping"}
      ],
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["nats_reply"]
      }
    },
    "pingGetRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [ ],
      "bindings": {
        "http": {
          "method": "GET"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "pingPutRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [
        {"$ref": "#/channels/ping/messages/ping"}
      ],
      "bindings": {
        "http": {
          "method": "PUT"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "pingDeleteRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [ ],
      "bindings": {
        "http": {
          "method": "DELETE"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "pingPatchRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [
        {"$ref": "#/channels/ping/messages/ping"}
      ],
      "bindings": {
        "http": {
          "method": "PATCH"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "pingHeadRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [ ],
      "bindings": {
        "http": {
          "method": "HEAD"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "pingOptionsRequest": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [ ],
      "bindings": {
        "http": {
          "method": "OPTIONS"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "multiStatusResponse": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/ping"
      },
      "messages": [
        {"$ref": "#/channels/ping/messages/ping"}
      ],
      "bindings": {
        "http": {
          "method": "GET"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/ping"
        },
        "messages": [
          {"$ref": "#/channels/ping/messages/pong"},
          {"$ref": "#/channels/ping/messages/notFound"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "getUserItem": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/userItems"
      },
      "messages": [],
      "bindings": {
        "http": {
          "method": "GET"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/userItems"
        },
        "messages": [
          {"$ref": "#/channels/userItems/messages/itemResponse"},
          {"$ref": "#/channels/userItems/messages/notFound"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    },
    "updateUserItem": {
      "action": "send",
      "channel": {
        "$ref": "#/channels/userItems"
      },
      "messages": [
        {"$ref": "#/channels/userItems/messages/itemRequest"}
      ],
      "bindings": {
        "http": {
          "method": "PUT"
        }
      },
      "reply": {
        "channel": {
          "$ref": "#/channels/userItems"
        },
        "messages": [
          {"$ref": "#/channels/userItems/messages/itemResponse"},
          {"$ref": "#/channels/userItems/messages/notFound"}
        ]
      },
      "x-the-codegen-project": {
        "functionTypeMapping": ["http_client"]
      }
    }
  },
  "components": {
    "messages": {
      "ping": {
        "payload": {
          "type": "object",
          "properties": {
            "ping": {
              "type": "string",
              "description": "ping name"
            }
          }
        }
      },
      "pong": {
        "payload": {
          "type": "object",
          "properties": {
            "pong": {
              "type": "string",
              "description": "pong name"
            }
          }
        },
        "bindings": {
          "http": {
            "statusCode": 200
          }
        }
      },
      "notFound": {
        "payload": {
          "type": "object",
          "properties": {
            "error": {
              "type": "string",
              "description": "Error message"
            },
            "code": {
              "type": "string",
              "description": "Error code"
            }
          }
        },
        "bindings": {
          "http": {
            "statusCode": 404
          }
        }
      },
      "itemRequest": {
        "headers": {
          "type": "object",
          "properties": {
            "x-correlation-id": {
              "type": "string",
              "description": "Correlation ID for request tracing"
            },
            "x-request-id": {
              "type": "string",
              "description": "Unique request identifier"
            }
          },
          "required": ["x-correlation-id"]
        },
        "payload": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "Name of the item"
            },
            "description": {
              "type": "string",
              "description": "Item description"
            },
            "quantity": {
              "type": "integer",
              "description": "Item quantity"
            }
          },
          "required": ["name"]
        }
      },
      "itemResponse": {
        "headers": {
          "type": "object",
          "properties": {
            "x-correlation-id": {
              "type": "string",
              "description": "Correlation ID echoed back"
            },
            "x-response-time": {
              "type": "string",
              "description": "Server response time in ms"
            }
          }
        },
        "payload": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "description": "The item ID"
            },
            "userId": {
              "type": "string",
              "description": "Owner user ID"
            },
            "name": {
              "type": "string",
              "description": "Name of the item"
            },
            "description": {
              "type": "string",
              "description": "Item description"
            },
            "quantity": {
              "type": "integer",
              "description": "Item quantity"
            }
          }
        },
        "bindings": {
          "http": {
            "statusCode": 200
          }
        }
      }
    },
    "schemas": {
      "UserSignedUpPayload": {
        "type": "object",
        "properties": {
          "display_name": {
            "type": "string",
            "description": "Name of the user"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email of the user"
          }
        }
      }
    }
  }
}